<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../components/google-map/google-map.html">

<dom-module id="location-x-card">
  <style>

    :host {
      display: block;
      overflow: hidden;
    }
    #placeholder {
      opacity: 0;
      background-color: grey;
    }
    #stats-div, #map-div {
      margin-top: 48px;
      height: 277px;
    }
    #location-stats {
      width: inherit;
      border: none;
      position: absolute;
    }
    .location-box {
      opacity: 0.8;
      background-color: #ffffff;
    }
    .location-card-image.mdl-card {
      width: 192px;
      height: 192px;
    }
    .location-card-image > .mdl-card__actions {
      height: 57px;
      padding: 10px;
      background: rgba(0, 0, 0, 0.2);
      text-align: center;
    }
    .location-card-season {
      color: #fff;
      font-size: 12px;
      font-weight: 500;
    }
    .location-card-season > strong {
      font-size: 14px;
    }
    #spring-location {
      background: url('/images/spring.jpg') center / cover;
    }
    #summer-location {
      background: url('/images/summer.jpg') center / cover;
    }
    #fall-location {
      background: url('/images/autumn.jpg') center / cover;
    }
    #winter-location {
      background: url('/images/winter.jpg') center / cover;
    }
    google-map {
      height: 277px;
      width: 277px;
    }

  </style>
  <template>

    <div id="placeholder" class="fit"></div>

    <div id="container">
      <div class="fit layout vertical center-center" id="location-container">
        <div id="location-back"></div>
        <div id="location-content" class="fit layout horizontal large">
          <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
            <main class="mdl-layout__content">
              <div class="mdl-layout__tab-panel is-active" id="overview">

                <section class="section--center mdl-grid mdl-grid--no-spacing">
                  <div class="mdl-card mdl-cell mdl-cell--7-col location-box mdl-shadow--2dp" id="stats-div">
                    <div class="mdl-card__supporting-text">
                      <h4 class="mdl-color-text--primary-dark gt-info-location"></h4>
                      <table class="mdl-data-table mdl-js-data-table" id="location-stats">
                        <tbody>
                          <tr>
                            <td class="mdl-data-table__cell--non-numeric">Population</td>
                            <td class="gt-city-population"></td>
                          </tr>
                          <tr>
                            <td class="mdl-data-table__cell--non-numeric">Time Zone</td>
                            <td class="gt-city-timezone"></td>
                          </tr>
                          <tr>
                            <td class="mdl-data-table__cell--non-numeric">County</td>
                            <td class="gt-city-county"></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="mdl-layout-spacer"></div>
                  <div class="mdl-cell--4-col-phone" id="map-div">
                    <center>
                      <google-map class="mdl-shadow--2dp"></google-map>
                    </center>
                  </div>
                </section>

                <section class="section--center mdl-grid mdl-grid--no-spacing">
                  <div id="spring-location" class="location-card-image mdl-card mdl-cell--4-col-phone mdl-shadow--2dp">
                    <div class="mdl-card__title mdl-card--expand"></div>
                    <div class="mdl-card__actions">
                      <span class="location-card-season">
                        <strong>Spring</strong><br/>
                        Hi: <i class="gt-city-spring-hi"></i> F
                        Lo: <i class="gt-city-spring-lo"></i> F
                        Avg: <i class="gt-city-spring-avg"></i> F
                      </span>
                    </div>
                  </div>
                  <div class="mdl-layout-spacer"></div>
                  <div id="summer-location" class="location-card-image mdl-card mdl-cell--4-col-phone mdl-shadow--2dp">
                    <div class="mdl-card__title mdl-card--expand"></div>
                    <div class="mdl-card__actions">
                      <span class="location-card-season">
                        <strong>Summer</strong><br/>
                        Hi: <i class="gt-city-summer-hi"></i> F
                        Lo: <i class="gt-city-summer-lo"></i> F
                        Avg: <i class="gt-city-summer-avg"></i> F
                      </span>
                    </div>
                  </div>
                  <div class="mdl-layout-spacer"></div>
                  <div id="fall-location" class="location-card-image mdl-card mdl-cell--4-col-phone mdl-shadow--2dp">
                    <div class="mdl-card__title mdl-card--expand"></div>
                    <div class="mdl-card__actions">
                      <span class="location-card-season">
                        <strong>Autumn</strong><br/>
                        Hi: <i class="gt-city-fall-hi"></i> F
                        Lo: <i class="gt-city-fall-lo"></i> F
                        Avg: <i class="gt-city-fall-avg"></i> F
                      </span>
                    </div>
                  </div>
                  <div class="mdl-layout-spacer"></div>
                  <div id="winter-location" class="location-card-image mdl-card mdl-cell--4-col-phone mdl-shadow--2dp">
                    <div class="mdl-card__title mdl-card--expand"></div>
                    <div class="mdl-card__actions">
                      <span class="location-card-season">
                        <strong>Winter</strong><br/>
                        Hi: <i class="gt-city-winter-hi"></i> F
                        Lo: <i class="gt-city-winter-lo"></i> F
                        Avg: <i class="gt-city-winter-avg"></i> F
                      </span>
                    </div>
                  </div>
                </section>
                <section class="section--footer mdl-color--light-grey mdl-grid">
                </section>
              </div>
            </main>
            <content select="div"></content>
          </div>
        </div>
      </div>
    </div>

  </template>
</dom-module>

<script>
(function() {
  Polymer({
    is: 'location-x-card',

    behaviors: [
      Polymer.NeonSharedElementAnimatableBehavior
    ],

    properties: {
      animationConfig: {
        value: function() {
          return {
            'entry': [{
              name: 'ripple-animation',
              id: 'ripple',
              toPage: this
            }, {
              name: 'fade-out-animation',
              node: this.$.placeholder,
              timing: {
                delay: 250
              }
            }, {
              name: 'fade-in-animation',
              node: this.$.container,
              timing: {
                delay: 50
              }
            }],

            'exit': [{
              name: 'opaque-animation',
              node: this.$.placeholder
            }, {
              name: 'fade-out-animation',
              node: this.$.container,
              timing: {
                duration: 0
              }
            }, {
              name: 'reverse-ripple-animation',
              id: 'reverse-ripple',
              fromPage: this
            }]
          };
        }
      },

      sharedElements: {
        value: function() {
          return {
            'ripple': this.$.placeholder,
            'reverse-ripple': this.$.placeholder
          };
        }
      }
    }
  });
})();
</script>
